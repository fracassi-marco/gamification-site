(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(51)},29:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(5),c=a(6),l=a(8),i=a(7),s=a(9),o=a(0),u=a.n(o),m=a(20),d=a.n(m),p=(a(29),a(52)),h=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("ul",{className:"nav"},[{code:"list",name:"List",url:"/"},{code:"ranking",name:"Ranking",url:"/ranking"},{code:"add",name:"+ Add",url:"/add"}].map(function(t,a){return u.a.createElement("li",{key:"page"+a,className:"nav-item "+(t.code===e.props.selected?"active":"")},u.a.createElement(p.a,{to:t.url,className:"nav-link"},t.name))}))}}]),t}(o.Component),v=a(11),b=a.n(v),E=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"links",value:function(e,t){return t.map(function(t,a){return u.a.createElement("a",{key:"link"+e+a,href:t.url},t.type)}).reduce(function(e,t){return""===e?t:[e,", ",t]},"")}},{key:"delete",value:function(e){var t=this;return function(a){a.preventDefault(),b.a.post("https://539bk9ow41.execute-api.us-east-1.amazonaws.com/dev/delete",e).then(function(){t.props.activityDeleted(e)}).catch(console.log)}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement(h,{selected:"list"}),u.a.createElement("div",{className:"table-responsive"},u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col",className:"date"},"Date"),u.a.createElement("th",{scope:"col"},"Author"),u.a.createElement("th",{scope:"col"},"Type"),u.a.createElement("th",{scope:"col"},"Title"),u.a.createElement("th",{scope:"col"},"Links"),u.a.createElement("th",{scope:"col"},"Actions"))),u.a.createElement("tbody",null,this.props.activities.sort(function(e,t){return e.date<t.date?1:-1}).map(function(t,a){return u.a.createElement("tr",{key:"activity"+a},u.a.createElement("td",null,t.date),u.a.createElement("td",null,t.author),u.a.createElement("td",null,t.type),u.a.createElement("td",null,t.title),u.a.createElement("td",null,e.links(a,t.links)),u.a.createElement("td",null,u.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:e.delete(t).bind(e)},u.a.createElement("span",{className:"fa fa-trash"}))))})))))}}]),t}(o.Component);function f(e){return e.reduce(function(e,t){return""===t.date?e:("presentation"===t.type?e+=3:e++,e)},0)}function y(e,t){return f(e[1])<f(t[1])?1:-1}var k=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a=(e=this.props.activities,t="author",Object.entries(e.reduce(function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e},{}))).sort(y);return u.a.createElement("div",null,u.a.createElement(h,{selected:"ranking"}),u.a.createElement("div",{className:"table-responsive"},u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"},"#"),u.a.createElement("th",{scope:"col"},"Points"),u.a.createElement("th",{scope:"col"},"Author"))),u.a.createElement("tbody",null,a.map(function(e,t){return u.a.createElement("tr",{key:"group"+t},u.a.createElement("td",null,t+1),u.a.createElement("td",null,f(e[1])),u.a.createElement("td",null,e[0]))})))))}}]),t}(u.a.Component),g=a(55),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={links:[{url:"http://an.url",type:"submission"}]},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"addLink",value:function(){this.setState(function(e){return{links:[].concat(Object(n.a)(e.links),[{url:"",type:""}])}})}},{key:"updateLink",value:function(e,t){var a=this;return function(n){a.setState({links:a.state.links.map(function(a,r){return r===e&&(a[t]=n.target.value),a})})}}},{key:"change",value:function(e){var t=this;return function(a){var n={};n[e]=a.target.value,t.setState(n)}}},{key:"submit",value:function(e){var t=this;e.preventDefault(),b.a.post("https://539bk9ow41.execute-api.us-east-1.amazonaws.com/dev/save",this.state).then(function(){t.props.activityAdded(t.state),t.props.history.push("/")}).catch(console.log)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement(h,{selected:"add"}),u.a.createElement("form",{className:"text-left p-3",onSubmit:this.submit.bind(this)},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"date"},"Date"),u.a.createElement("input",{type:"text",onChange:this.change("date"),className:"form-control",placeholder:"yyyy-MM-dd"})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"author"},"Author"),u.a.createElement("input",{type:"text",onChange:this.change("author"),className:"form-control",placeholder:"Author"})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"type"},"Type"),u.a.createElement("input",{type:"text",onChange:this.change("type"),className:"form-control",placeholder:"Type"})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"title"},"Title"),u.a.createElement("input",{type:"text",onChange:this.change("title"),className:"form-control",placeholder:"Title"})),u.a.createElement("div",{className:"text-right"},u.a.createElement("button",{className:"btn btn-sm btn-secondary",type:"button",onClick:this.addLink.bind(this)},"Add Link")),this.state.links.map(function(t,a){var n="type-".concat(a),r="url-".concat(a);return u.a.createElement("div",{className:"row p-3",key:a},u.a.createElement("div",{className:"col-sm-6"},u.a.createElement("label",{htmlFor:n},"Type"),u.a.createElement("input",{type:"text",name:n,"data-id":a,id:n,className:"form-control",value:e.state.links[a].type,onChange:e.updateLink(a,"type").bind(e)})),u.a.createElement("div",{className:"col-sm-6"},u.a.createElement("label",{htmlFor:r},"Url"),u.a.createElement("input",{type:"text",name:r,"data-id":a,id:r,className:"form-control",value:e.state.links[a].url,onChange:e.updateLink(a,"url").bind(e)})))}),u.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))}}]),t}(o.Component),j=Object(g.a)(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(54),w=a(53),x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={activities:[]},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://539bk9ow41.execute-api.us-east-1.amazonaws.com/dev/read").then(function(t){var a=t.data;e.setState({activities:a})})}},{key:"isNot",value:function(e){return function(t){return!(e.date===t.date&&e.author===t.author&&e.title===t.title&&e.type===t.type)}}},{key:"activityDeleted",value:function(e){this.setState({activities:this.state.activities.filter(this.isNot(e))})}},{key:"activityAdded",value:function(e){this.setState({activities:[].concat(Object(n.a)(this.state.activities),[e])})}},{key:"render",value:function(){var e=this;return u.a.createElement(O.a,{basename:"/gamification-site"},u.a.createElement("div",{className:"router a1"},u.a.createElement(w.a,{exact:!0,path:"/",render:function(){return u.a.createElement(E,{activityDeleted:e.activityDeleted.bind(e),activities:e.state.activities})}}),u.a.createElement(w.a,{exact:!0,path:"/ranking",render:function(){return u.a.createElement(k,{activities:e.state.activities})}}),u.a.createElement(w.a,{exact:!0,path:"/add",render:function(){return u.a.createElement(j,{activityAdded:e.activityAdded.bind(e),activities:e.state.activities})}})))}}]),t}(u.a.Component);d.a.render(u.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.3d0a6713.chunk.js.map